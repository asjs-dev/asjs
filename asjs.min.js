;function defineProperty(target,propertyName,params){params.enumerable=true;params.configurable=true;Object.defineProperty(target,propertyName,params);};function extendClass(parent){return $.extend(true,{},parent);};function extendProperty(target,parent,propertyName){Object.defineProperty(target,propertyName,Object.getOwnPropertyDescriptor(parent,propertyName));};function extendFunction(target,parent,propertyName){target[propertyName]=parent[propertyName];};var ASJS={};var includedScript={};function includeOnce(filename){if(includedScript[filename])return;includedScript[filename]=1;$.ajaxSetup({async:false});$.getScript(filename);$.ajaxSetup({async:true});};ASJS.Point=function(tx,ty){var that={};var _x=tx||0;var _y=ty||0;defineProperty(that,"x",{get:function(){return _x;},set:function(value){_x=value;}});defineProperty(that,"y",{get:function(){return _y;},set:function(value){_y=value;}});{};return that;};ASJS.Mouse=function(){function MouseInstance(){var that={};var _mouseX=0;var _mouseY=0;defineProperty(that,"mouseX",{get:function(){return _mouseX;}});defineProperty(that,"mouseY",{get:function(){return _mouseY;}});that.show=function(){$("body").css("cursor","default");};that.hide=function(){$("body").css("cursor","none");};that.getRelativePosition=function(value){if(!value)throw new Error("Mouse.getRelativePosition: Value is null");return value.globalToLocal(new ASJS.Point(that.mouseX,that.mouseY));};{$(window).on("mousemove",function(event){_mouseX=event.pageX;_mouseY=event.pageY;});};return that;};defineProperty(this,"instance",{get:function(){if(!ASJS.Mouse.$)ASJS.Mouse.$=new MouseInstance();return ASJS.Mouse.$;}});};ASJS.DisplayObject=function(domElement){var that={};var _rotation=0;var _parent=null;var _cssDisplay="block";defineProperty(that,"id",{get:function(){return that.getAttr("id");},set:function(value){that.setAttr("id",value);}});defineProperty(that,"enabled",{get:function(){return that.getAttr("disabled")!="disabled";},set:function(value){if(value){that.domObject.removeAttr("disabled");that.setCSS("pointer-events","auto");}else{that.setAttr("disabled","disabled");that.setCSS("pointer-events","none");}}});defineProperty(that,"display",{get:function(){return _cssDisplay;},set:function(value){_cssDisplay=value;that.setCSS("display",_cssDisplay);}});defineProperty(that,"html",{get:function(){return that.domObject.html();},set:function(value){that.domObject.html(value);}});defineProperty(that,"text",{get:function(){return that.domObject.text();},set:function(value){that.domObject.text(value);}});defineProperty(that,"visible",{get:function(){return that.getCSS("display")!="none";},set:function(value){that.setCSS("display",value?_cssDisplay:"none");}});defineProperty(that,"alpha",{get:function(){return parseFloat(that.getCSS("opacity"));},set:function(value){that.setCSS("opacity",value);}});defineProperty(that,"x",{get:function(){return parseFloat(that.getCSS("left"));},set:function(value){that.setCSS("left",value);}});defineProperty(that,"y",{get:function(){return parseFloat(that.getCSS("top"));},set:function(value){that.setCSS("top",value);}});defineProperty(that,"calcX",{get:function(){return that.x+parseFloat(that.getCSS("marginLeft"));}});defineProperty(that,"calcY",{get:function(){return that.y+parseFloat(that.getCSS("marginTop"));}});defineProperty(that,"right",{get:function(){return parseFloat(that.getCSS("right"));},set:function(value){that.setCSS("right",value);}});defineProperty(that,"bottom",{get:function(){return parseFloat(that.getCSS("bottom"));},set:function(value){that.setCSS("bottom",value);}});defineProperty(that,"width",{get:function(){return that.domObject.width();},set:function(value){that.setCSS("width",value);}});defineProperty(that,"height",{get:function(){return that.domObject.height();},set:function(value){that.setCSS("height",value);}});defineProperty(that,"calcWidth",{get:function(){return that.width+parseFloat(that.getCSS("paddingLeft"))+parseFloat(that.getCSS("paddingRight"));}});defineProperty(that,"calcHeight",{get:function(){return that.height+parseFloat(that.getCSS("paddingTop"))+parseFloat(that.getCSS("paddingBottom"));}});defineProperty(that,"rotation",{get:function(){return _rotation;},set:function(value){_rotation=parseFloat(value);that.setCSS("transform",'rotate('+_rotation+'deg)');}});defineProperty(that,"parent",{get:function(){return _parent;},set:function(value){var prevParent=_parent;_parent=value;if(_parent&&!prevParent)that.addedToStage();else if(!_parent&&prevParent)that.removedFromStage();}});defineProperty(that,"mouseX",{get:function(){return new ASJS.Mouse().instance.getRelativePosition(that).x;}});defineProperty(that,"mouseY",{get:function(){return new ASJS.Mouse().instance.getRelativePosition(that).y;}});that.getCSS=function(key){return that.domObject.css(key);};that.setCSS=function(key,value){that.domObject.css(key,value);};that.addClass=function(value){return that.domObject.addClass(value);};that.removeClass=function(value){that.domObject.removeClass(value);};that.getAttr=function(key){return that.domObject.attr(key);};that.setAttr=function(key,value){that.domObject.attr(key,value);};that.hitTest=function(point){var rotationDeg=-that.rotation*ASJS.DisplayObject.THETA;var globalPos=that.localToGlobal(new ASJS.Point(0,0));var diffPoint=new ASJS.Point(point.x-(globalPos.x+that.calcWidth*0.5),point.y-(globalPos.y+that.calcHeight*0.5));var rotatedDiffPoint=new ASJS.Point(diffPoint.x*Math.cos(rotationDeg)-diffPoint.y*Math.sin(rotationDeg),diffPoint.x*Math.sin(rotationDeg)+diffPoint.y*Math.cos(rotationDeg));var recalcPoint=new ASJS.Point(point.x-(diffPoint.x-rotatedDiffPoint.x),point.y-(diffPoint.y-rotatedDiffPoint.y));var localPoint=that.globalToLocal(recalcPoint);return localPoint.x>=0&&localPoint.y>=0&&localPoint.x<=that.calcWidth&&localPoint.y<=that.calcHeight;};that.move=function(x,y){that.x=x;that.y=y;};that.setSize=function(w,h){that.width=w;that.height=h;};that.localToGlobal=function(point){if(!point)throw new Error("DisplayObject.localToGlobal: Point is null");var pos=new ASJS.Point(point.x,point.y);var i;var child=that;while(child){pos.x+=child.x||0;pos.y+=child.y||0;child=child.parent;};return pos;};that.globalToLocal=function(point){if(!point)throw new Error("DisplayObject.globalToLocal: Point is null");var pos=new ASJS.Point(point.x,point.y);var i;var child=that;while(child){pos.x-=child.x||0;pos.y-=child.y||0;child=child.parent;};return pos;};that.addedToStage=function(){};that.removedFromStage=function(){};that.dispatchEvent=function(type,data){that.domObject.trigger(type,data);};that.addEventListener=function(type,callback){that.domObject.on(type,callback);};that.removeEventListeners=function(){that.domObject.off();};that.removeEventListener=function(type){that.domObject.off(type);};that.domObject=$(domElement||"<div />",{tabindex:"-1",style:("pointer-events: auto; position: absolute; display: "+_cssDisplay+"; width: 0px; height: 0px; top: 0px; left: 0px;")});{};return that;};ASJS.DisplayObject.THETA=Math.PI/180;ASJS.Sprite=function(domElement){var that=new ASJS.DisplayObject(domElement);var _children=[];defineProperty(that,"numChildren",{get:function(){return _children.length;}});that.contains=function(child){return that.getChildIndex(child)>-1;};that.addChild=function(child){return that.addChildAt(child,that.numChildren);};that.addChildAt=function(child,index){if(!child)return null;that.domObject.append(child.domObject);child.parent=that;_children.push(child);that.setChildIndex(child,index);return child;};that.removeChild=function(child){if(!child)return null;child.domObject.detach();var index=that.getChildIndex(child);if(index>-1)_children.splice(index,1);child.parent=null;return child;};that.removeChildAt=function(index){return that.removeChild(that.getChildAt(index));};that.getChildAt=function(index){if(index<0||index>that.numChildren-1)return null;return _children[index];};that.setChildIndex=function(child,index){if(!child||index<0)return null;var childActualIndex=that.getChildIndex(child);if(childActualIndex>-1)_children.splice(childActualIndex,1);var afterChild=that.getChildAt(index);if(afterChild)child.domObject.insertBefore(afterChild.domObject);_children.splice(index,0,child);return child;};that.getChildIndex=function(child){if(!child)return-1;return _children.indexOf(child);};that.swapChildren=function(childA,childB){var childAIndex=that.getChildIndex(childA);var childBIndex=that.getChildIndex(childB);if(childAIndex==-1||childBIndex==-1)return false;that.setChildIndex(childA,childBIndex);that.setChildIndex(childB,childAIndex);return true;};that.getChildByDOMObject=function(domObject){if(!domObject)return null;var i;var child;for(i=0;i<that.numChildren;i++){child=that.getChildAt(i);if(domObject==child.domObject[0])return child;};return null;};{};return that;};ASJS.FormElement=function(domElement){var that=new ASJS.Sprite(domElement);defineProperty(that,"name",{get:function(){return that.getAttr("name");},set:function(value){that.setAttr("name",value);}});{that.setAttr("tabindex","auto");};return that;};ASJS.AbstractTextElement=function(domElement){var that=new ASJS.FormElement(domElement);var _super={};var _protectedChars={37:true,38:true,39:true,40:true,8:true,9:true,46:true,13:true,16:true,17:true,35:true,36:true,20:true,27:true};var _controlChars={65:true,67:true,86:true,88:true,97:true,99:true,118:true,120:true};var _restrict;defineProperty(that,"placeholder",{get:function(){return that.getAttr("placeholder");},set:function(value){that.setAttr("placeholder",value);}});defineProperty(that,"val",{get:function(){return that.domObject.val();},set:function(value){that.domObject.val(value);}});defineProperty(that,"maxChar",{get:function(){return that.getAttr("maxLength");},set:function(value){that.setAttr("maxLength",value);}});defineProperty(that,"restrict",{get:function(){return _restrict;},set:function(value){_restrict=value;}});that.removedFromStage=function(){that.removeEventListeners();};that.addedToStage=function(){that.addEventListener("keypress",function(event){if(_restrict){var charCode=event.which?event.which:event.keyCode;if(_protectedChars[event.keyCode]!=undefined||(event.ctrlKey&&_controlChars[charCode]!=undefined))return;if(!new RegExp(_restrict,"i").test(String.fromCharCode(event.which)))return false;}});that.addEventListener("keyup",function(event){var charCode=event.which?event.which:event.keyCode;if(_restrict&&(event.ctrlKey&&_controlChars[charCode]!=undefined)){var regExp=new RegExp("^(?!"+_restrict+").*$","g");that.val=that.val.replace(regExp,'');}});};{};return that;};ASJS.Bitmap=function(bitmapWidth,bitmapHeight){try{if(rasterizeHTML){}}catch(e){throw new Error("Missing: http://www.github.com/cburgmer/rasterizeHTML.js");};if(!bitmapWidth||!bitmapHeight||bitmapWidth<1||bitmapHeight<1){throw new Error("Parameters is null or lower than 1");};var that=new ASJS.DisplayObject("<canvas />");defineProperty(that,"width",{set:function(value){that.setCSS("width",value);that.setAttr("width",value);}});defineProperty(that,"height",{set:function(value){that.setCSS("height",value);that.setAttr("height",value);}});that.draw=function(value){rasterizeHTML.drawHTML(value,$(that.domObject)[0]);};{that.width=bitmapWidth;that.height=bitmapHeight;};return that;};ASJS.Button=function(){var that=new ASJS.FormElement("<input />");defineProperty(that,"label",{get:function(){return that.getAttr("value");},set:function(value){that.setAttr("value",value);}});defineProperty(that,"submit",{get:function(){return that.getAttr("type")=="submit";},set:function(value){that.setAttr("type",value?"submit":"button");}});{that.setAttr("type","button");};return that;};ASJS.Checkbox=function(){var that=new ASJS.FormElement("<label />");var _super={};var _checkbox=new ASJS.DisplayObject("<input />");var _label=new ASJS.DisplayObject();extendProperty(_super,that,"enabled");defineProperty(that,"enabled",{set:function(value){_super.enabled=value;if(value){_checkbox.domObject.removeAttr("disabled");_checkbox.setCSS("pointer-events","auto");}else{_checkbox.setAttr("disabled","disabled");_checkbox.setCSS("pointer-events","none");};that.drawNow();}});defineProperty(that,"label",{get:function(){return _label;}});defineProperty(that,"checked",{get:function(){return _checkbox.domObject.is(":checked");},set:function(value){_checkbox.domObject.prop("checked",value);_checkbox.domObject.change();}});{_checkbox.setAttr("type","checkbox");_checkbox.visible=false;that.addChild(_checkbox);_label.setSize("100%","100%");that.addChild(_label);};return that;};ASJS.Stage=function(){function StageInstance(){var that=new ASJS.Sprite();var _window=$(window);var _head=$("head");that.domObject=$("body");defineProperty(that,"stageWidth",{get:function(){return _window.outerWidth(true);}});defineProperty(that,"stageHeight",{get:function(){return _window.outerHeight(true);}});defineProperty(that,"window",{get:function(){return _window;}});defineProperty(that,"head",{get:function(){return _head;}});{that.setSize("100%","100%");};return that;};defineProperty(this,"instance",{get:function(){if(!ASJS.Stage.$)ASJS.Stage.$=new StageInstance();return ASJS.Stage.$;}});};ASJS.Css=function(){function CssInstance(){var that={};var _classes={};var _style=$("<style />");that.hasClass=function(selector){return _classes[selector]!=undefined;};that.createClass=function(selector,values){if(that.hasClass(selector))return false;_classes[selector]=values;buildStyleSheet();return true;};that.updateClass=function(selector,values){if(that.createClass(selector,values))return true;for(var key in values)_classes[selector][key]=values[key];buildStyleSheet();};that.removeClass=function(selector){if(!that.hasClass(selector))return;_classes[selector]=null;delete _classes[selector];buildStyleSheet();};function buildStyleSheet(){var styleSheet="";for(var classKey in _classes){styleSheet+=classKey+" {\n";for(var valueKey in _classes[classKey])styleSheet+=" "+valueKey+": "+_classes[classKey][valueKey]+";\n";styleSheet+="};\n";};_style.text(styleSheet);};{new Stage().instance.head.append(_style);};return that;};defineProperty(this,"instance",{get:function(){if(!ASJS.Css.$)ASJS.Css.$=new CssInstance();return ASJS.Css.$;}});};ASJS.DropDownOption=function(value,label,disabled,selected){var that={};that.value=value||"0";that.label=label||"";that.disabled=disabled||false;that.selected=selected||false;return that;};ASJS.DropDown=function(){var that=new ASJS.FormElement();var _super={};var _select=new ASJS.DisplayObject("<select />");extendProperty(_super,that,"enabled");defineProperty(that,"enabled",{set:function(value){_super.enabled=value;if(value){_select.domObject.removeAttr("disabled");_select.setCSS("pointer-events","auto");}else{_select.setAttr("disabled","disabled");_select.setCSS("pointer-events","none");};that.drawNow();}});that.clearOptions=function(){_select.html="";};defineProperty(that,"select",{get:function(){return _select;}});defineProperty(that,"val",{get:function(){return _select.domObject.val();},set:function(value){_select.domObject.val(value);}});that.setOptions=function(options){that.clearOptions();var i;var option;for(i=0;i<options.length;i++)that.addOption(options[i]);};that.addOption=function(option){var optionItem=$("<option value=\""+option.value+"\""+(option.disabled?" disabled":"")+""+(option.selected?" selected":"")+">"+option.label+"</option>");_select.domObject.append(optionItem);};that.drawNow=function(){_select.setSize(that.width+30,that.height);};{that.setCSS("overflow","hidden");that.addChild(_select);};return that;};ASJS.FileSelector=function(){var that=new ASJS.FormElement();var _super={};that._fileInput=new ASJS.DisplayObject("<input />");defineProperty(that,"val",{get:function(){return that._fileInput.domObject.val();}});defineProperty(that,"name",{get:function(){return that._fileInput.getAttr("name");},set:function(value){that._fileInput.setAttr("name",value);}});extendProperty(_super,that,"enabled");defineProperty(that,"enabled",{set:function(value){_super.enabled=value;if(value){that._fileInput.domObject.removeAttr("disabled");that._fileInput.setCSS("pointer-events","auto");}else{that._fileInput.setAttr("disabled","disabled");that._fileInput.setCSS("pointer-events","none");};that.drawNow();}});defineProperty(that,"fileInput",{get:function(){return _fileInput;}});{that._fileInput.setAttr("type","file");that._fileInput.addEventListener("change",function(event){that.html=that.val;});that._fileInput.visible=false;that.addChild(that._fileInput);that.addEventListener("click",function(event){if(event.target==that._fileInput.domObject[0])return;that._fileInput.domObject.click();});};return that;};ASJS.Form=function(){var that=new ASJS.Sprite("<form />");defineProperty(that,"action",{get:function(){return that.getAttr("action");},set:function(value){that.setAttr("action",value);}});defineProperty(that,"method",{get:function(){return that.getAttr("method");},set:function(value){that.setAttr("method",value);}});defineProperty(that,"enctype",{get:function(){return that.getAttr("enctype");},set:function(value){that.setAttr("enctype",value);}});that.reset=function(){that.domObject[0].reset();};{};return that;};ASJS.Form.ENCTYPE_MULTIPART="multipart/form-data";ASJS.Image=function(){var that=new ASJS.DisplayObject("<img />");defineProperty(that,"src",{get:function(){return that.getAttr("src");},set:function(value){that.setAttr("src",value);}});defineProperty(that,"alt",{get:function(){return that.getAttr("alt");},set:function(value){that.setAttr("alt",value);}});defineProperty(that,"title",{get:function(){return that.getAttr("title");},set:function(value){that.setAttr("title",value);}});{};return that;};ASJS.ImageSelector=function(){var that=new ASJS.FileSelector();var _preview=new ASJS.Sprite();defineProperty(that,"preview",{get:function(){return _preview;}});{_preview.setSize("100%","100%");_preview.move(0,0);that.addChild(_preview);that._fileInput.removeEventListeners("change");that._fileInput.addEventListener("change",function(event){var target=that._fileInput.domObject[0];if(target.files&&target.files[0]){var reader=new FileReader();reader.onload=function(e){_preview.setCSS('background-image','url('+e.target.result+')');};reader.readAsDataURL(target.files[0]);}});};return that;};ASJS.Keyboard=function(){var that={};var _pressedKeys={};that.isPressed=function(which){return _pressedKeys[which];};that.addKeyListener=function(target,downCallback,upCallback){if(!target)return;that.removeKeyListener(target);target.addEventListener("keydown",function(event){_pressedKeys[event.which]=true;if(downCallback)downCallback();return false;});target.addEventListener("keyup",function(event){_pressedKeys[event.which]=false;if(upCallback)upCallback();return false;});};that.removeKeyListener=function(target){target.removeEventListener("keydown");target.removeEventListener("keyup");};{};return that;};ASJS.Keyboard.BACKSPACE=8;ASJS.Keyboard.TAB=9;ASJS.Keyboard.ENTER=13;ASJS.Keyboard.SHIFT=16;ASJS.Keyboard.CTRL=17;ASJS.Keyboard.ALT=18;ASJS.Keyboard.PAUSE_BREAK=19;ASJS.Keyboard.CAPS_LOCK=20;ASJS.Keyboard.ESCAPE=27;ASJS.Keyboard.PAGE_UP=33;ASJS.Keyboard.PAGE_DOWN=34;ASJS.Keyboard.END=35;ASJS.Keyboard.HOME=36;ASJS.Keyboard.LEFT_ARROW=37;ASJS.Keyboard.UP_ARROW=38;ASJS.Keyboard.RIGHT_ARROW=39;ASJS.Keyboard.DOWN_ARROW=40;ASJS.Keyboard.INSERT=45;ASJS.Keyboard.DELETE=46;ASJS.Keyboard.NUM_0=48;ASJS.Keyboard.NUM_1=49;ASJS.Keyboard.NUM_2=50;ASJS.Keyboard.NUM_3=51;ASJS.Keyboard.NUM_4=52;ASJS.Keyboard.NUM_5=53;ASJS.Keyboard.NUM_6=54;ASJS.Keyboard.NUM_7=55;ASJS.Keyboard.NUM_8=56;ASJS.Keyboard.NUM_9=57;ASJS.Keyboard.A=65;ASJS.Keyboard.B=66;ASJS.Keyboard.C=67;ASJS.Keyboard.D=68;ASJS.Keyboard.E=69;ASJS.Keyboard.F=70;ASJS.Keyboard.G=71;ASJS.Keyboard.H=72;ASJS.Keyboard.I=73;ASJS.Keyboard.J=74;ASJS.Keyboard.K=75;ASJS.Keyboard.L=76;ASJS.Keyboard.M=77;ASJS.Keyboard.N=78;ASJS.Keyboard.O=79;ASJS.Keyboard.P=80;ASJS.Keyboard.Q=81;ASJS.Keyboard.R=82;ASJS.Keyboard.S=83;ASJS.Keyboard.T=84;ASJS.Keyboard.U=85;ASJS.Keyboard.V=86;ASJS.Keyboard.W=87;ASJS.Keyboard.X=88;ASJS.Keyboard.Y=89;ASJS.Keyboard.Z=90;ASJS.Keyboard.LEFT_block_KEY=91;ASJS.Keyboard.RIGHT_block_KEY=92;ASJS.Keyboard.SELECT_KEY=93;ASJS.Keyboard.NUMPAD_0=96;ASJS.Keyboard.NUMPAD_1=97;ASJS.Keyboard.NUMPAD_2=98;ASJS.Keyboard.NUMPAD_3=99;ASJS.Keyboard.NUMPAD_4=100;ASJS.Keyboard.NUMPAD_5=101;ASJS.Keyboard.NUMPAD_6=102;ASJS.Keyboard.NUMPAD_7=103;ASJS.Keyboard.NUMPAD_8=104;ASJS.Keyboard.NUMPAD_9=105;ASJS.Keyboard.MULTIPLY=106;ASJS.Keyboard.ADD=107;ASJS.Keyboard.SUBTRACT=109;ASJS.Keyboard.DECIMAL_POINT=110;ASJS.Keyboard.DIVIDE=111;ASJS.Keyboard.F1=112;ASJS.Keyboard.F2=113;ASJS.Keyboard.F3=114;ASJS.Keyboard.F4=115;ASJS.Keyboard.F5=116;ASJS.Keyboard.F6=117;ASJS.Keyboard.F7=118;ASJS.Keyboard.F8=119;ASJS.Keyboard.F9=120;ASJS.Keyboard.F10=121;ASJS.Keyboard.F11=122;ASJS.Keyboard.F12=123;ASJS.Keyboard.NUM_LOCK=144;ASJS.Keyboard.SCROLL_LOCK=145;ASJS.Keyboard.SEMICOLON=186;ASJS.Keyboard.EQUAL_SIGN=187;ASJS.Keyboard.COMMA=188;ASJS.Keyboard.DASH=189;ASJS.Keyboard.PERIOD=190;ASJS.Keyboard.FORWARD_SLASH=191;ASJS.Keyboard.GRAVE_ACCENT=192;ASJS.Keyboard.OPEN_BRACKET=219;ASJS.Keyboard.BACK_SLASH=220;ASJS.Keyboard.CLOSE_BRAKET=221;ASJS.Keyboard.SINGLE_QUOTE=222;ASJS.Label=function(){var that=new ASJS.DisplayObject();{};return that;};ASJS.Link=function(){var that=new ASJS.Sprite("<a />");defineProperty(that,"href",{get:function(){return that.getAttr("href");},set:function(value){that.setAttr("href",value);}});defineProperty(that,"target",{get:function(){return that.getAttr("target");},set:function(value){that.setAttr("target",value);}});defineProperty(that,"title",{get:function(){return that.getAttr("title");},set:function(value){that.setAttr("title",value);}});{};return that;};ASJS.ListItem=function(domElement){var that=new ASJS.FormElement(domElement);var _name="";var _checked="";var _value="";defineProperty(that,"name",{get:function(){return _name;},set:function(value){_name=value;}});defineProperty(that,"checked",{get:function(){return _checked;},set:function(value){_checked=value;}});defineProperty(that,"val",{get:function(){return _value;},set:function(value){_value=value;}});{};return that;};ASJS.List=function(){var that=new ASJS.Sprite();var _name;defineProperty(that,"val",{get:function(){var value;var i;var item;for(i=0;i<that.numChildren;i++){item=that.getChildAt(i);if(item.checked)value=item.val;};return value;},set:function(value){var i;var item;for(i=0;i<that.numChildren;i++){item=that.getChildAt(i);if(item.val==value)item.checked=true;else item.checked=false;}}});defineProperty(that,"name",{get:function(){return _name;},set:function(value){_name=value;var i;var item;for(i=0;i<that.numChildren;i++){item=that.getChildAt(i);item.name=_name;}}});that.clearList=function(){while(that.numChildren>0)that.removeChildAt(0);};that.setListItems=function(items){that.clearList();var i;for(i=0;i<items.length;i++)that.addItem(items[i]);};that.addItem=function(item){item.name=_name;that.addChild(item);};that.removedFromStage=function(){that.removeEventListeners();};that.addedToStage=function(){that.addEventListener("change",function(event){var i;var item;for(i=0;i<that.numChildren;i++){item=that.getChildAt(i);item.drawNow();}});};{};return that;};ASJS.NotificationHandler=function(){function NotificationHandlerInstance(){var that={};var _notificationHandlers={};that.register=function(notificationDispatcher){if(!notificationDispatcher.handlers)return;var i;var l=notificationDispatcher.handlers.length;var notificationType;for(i=0;i<l;i++){notificationType=notificationDispatcher.handlers[i];if(!_notificationHandlers[notificationType])_notificationHandlers[notificationType]=[];_notificationHandlers[notificationType].push(notificationDispatcher);}};that.remove=function(notificationDispatcher){if(!notificationDispatcher.handlers)return;var i;var l=notificationDispatcher.handlers?notificationDispatcher.handlers.length:0;var notificationType;for(i=0;i<l;i++){notificationType=notificationDispatcher.handlers[i];if(_notificationHandlers[notificationType]){var index=_notificationHandlers[notificationType].indexOf(notificationDispatcher);if(index>-1)_notificationHandlers[notificationType].splice(index,1);}}};that.sendNotification=function(notificationType,data){var i;var l=_notificationHandlers[notificationType]?_notificationHandlers[notificationType].length:0;var removeHandlers=[];for(i=0;i<l;i++){if(_notificationHandlers[notificationType][i]){_notificationHandlers[notificationType][i].reciveNotification(notificationType,data);}else{_notificationHandlers[notificationType].splice(i,1);l--;}}};{};return that;};defineProperty(this,"instance",{get:function(){if(!ASJS.NotificationHandler.$)ASJS.NotificationHandler.$=new NotificationHandlerInstance();return ASJS.NotificationHandler.$;}});};ASJS.NotificationDispatcher=function(){var that={};that.handlers=[];that.destruct=function(){that.removeNotificationHandlers();that=null;};that.sendNotification=function(notificationType,data){new ASJS.NotificationHandler().instance.sendNotification(notificationType,data);};that.reciveNotification=function(notificationType,data){};that.registerNotificationHandlers=function(){new ASJS.NotificationHandler().instance.register(that);};that.removeNotificationHandlers=function(){new ASJS.NotificationHandler().instance.remove(that);};{};return that;};ASJS.RadioButton=function(){var that=new ASJS.ListItem("<label />");var _super={};var _radio=new ASJS.DisplayObject("<input />");var _label=new ASJS.DisplayObject();extendProperty(_super,that,"enabled");defineProperty(that,"enabled",{set:function(value){_super.enabled=value;if(value){_radio.domObject.removeAttr("disabled");_radio.setCSS("pointer-events","auto");}else{_radio.setAttr("disabled","disabled");_radio.setCSS("pointer-events","none");};that.drawNow();}});defineProperty(that,"label",{get:function(){return _label;}});defineProperty(that,"name",{get:function(){return_radio.getAttr("name");},set:function(value){_radio.setAttr("name",value);}});defineProperty(that,"checked",{get:function(){return _radio.domObject.is(":checked");},set:function(value){_radio.domObject.prop("checked",value);if(value)_radio.domObject.change();}});defineProperty(that,"val",{get:function(){return _radio.getAttr("value");},set:function(value){_radio.setAttr("value",value);}});that.drawNow=function(){};{_radio.setAttr("type","radio");_radio.visible=false;that.addChild(_radio);_label.setSize("100%","100%");that.addChild(_label);};return that;};ASJS.Rectangle=function(tx,ty,twidth,theight){var that=new ASJS.Point(tx,ty);var _width=twidth||0;var _height=theight||0;defineProperty(that,"width",{get:function(){return _width;},set:function(value){_width=value;}});defineProperty(that,"height",{get:function(){return _height;},set:function(value){_height=value;}});{};return that;};ASJS.Scale9Grid=function(){var that=new ASJS.Sprite();var _size=new ASJS.Point();var _rectangle=new ASJS.Rectangle();var _blocks=[];var _super={};extendProperty(_super,that,"x");defineProperty(that,"x",{set:function(value){_super.x=value;that.drawNow();}});extendProperty(_super,that,"y");defineProperty(that,"y",{set:function(value){_super.y=value;that.drawNow();}});extendProperty(_super,that,"right");defineProperty(that,"right",{set:function(value){_super.right=value;that.drawNow();}});extendProperty(_super,that,"bottom");defineProperty(that,"bottom",{set:function(value){_super.bottom=value;that.drawNow();}});extendProperty(_super,that,"width");defineProperty(that,"width",{set:function(value){_super.width=value;that.drawNow();}});extendProperty(_super,that,"height");defineProperty(that,"height",{set:function(value){_super.height=value;that.drawNow();}});defineProperty(that,"size",{get:function(){return _size;},set:function(value){_size=value;that.drawNow();}});defineProperty(that,"rect",{get:function(){return _rectangle;},set:function(value){_rectangle=value;that.drawNow();}});extendFunction(_super,that,"setSize");that.setSize=function(w,h){_super.setSize(w,h);that.drawNow();};that.drawNow=function(){var rightSize=_size.x-(_rectangle.x+_rectangle.width);var bottomSize=_size.y-(_rectangle.y+_rectangle.height);var percent=new ASJS.Point((that.width-_rectangle.x-rightSize)/_rectangle.width,(that.height-_rectangle.y-bottomSize)/_rectangle.height);var centerPercent=new ASJS.Point(percent.x*_rectangle.width,percent.y*_rectangle.height);var tlPercent=new ASJS.Point(percent.x*_rectangle.x,percent.y*_rectangle.y);var brPercent=new ASJS.Point(percent.x*rightSize,percent.y*bottomSize);var percentSize=new ASJS.Point(tlPercent.x+centerPercent.x+brPercent.x,tlPercent.y+centerPercent.y+brPercent.y);_blocks[0].setSize(_rectangle.x,_rectangle.y);_blocks[1].setSize(that.width-_rectangle.x-rightSize,_rectangle.y);_blocks[2].setSize(that.width-_blocks[0].width-_blocks[1].width,_rectangle.y);_blocks[3].setSize(_rectangle.x,that.height-_rectangle.y-bottomSize);_blocks[4].setSize(_blocks[1].width,_blocks[3].height);_blocks[5].setSize(_blocks[2].width,_blocks[3].height);_blocks[6].setSize(_rectangle.x,that.height-_blocks[0].height-_blocks[3].height);_blocks[7].setSize(_blocks[1].width,_blocks[6].height);_blocks[8].setSize(_blocks[2].width,_blocks[6].height);_blocks[1].x=_blocks[0].width;_blocks[2].x=_blocks[1].x+_blocks[1].width;_blocks[3].y=_blocks[0].height;_blocks[4].move(_blocks[3].width,_blocks[1].height);_blocks[5].move(_blocks[4].x+_blocks[4].width,_blocks[1].height);_blocks[6].y=_blocks[3].y+_blocks[3].height;_blocks[7].move(_blocks[6].width,_blocks[6].y);_blocks[8].move(_blocks[7].x+_blocks[7].width,_blocks[6].y);_blocks[1].setCSS("background-position",(-tlPercent.x*2)+"px top");_blocks[1].setCSS("background-size",(percentSize.x*2)+"px "+_size.y+"px");_blocks[3].setCSS("background-position","left "+(-tlPercent.y*2)+"px");_blocks[3].setCSS("background-size",_size.x+"px "+(percentSize.y*2)+"px");_blocks[4].setCSS("background-position",(-tlPercent.x*2)+"px "+(-tlPercent.y*2)+"px");_blocks[4].setCSS("background-size",(percentSize.x*2)+"px "+(percentSize.y*2)+"px");_blocks[5].setCSS("background-position","right "+(-tlPercent.y*2)+"px");_blocks[5].setCSS("background-size",_size.x+"px "+(percentSize.y*2)+"px");_blocks[7].setCSS("background-position",(-tlPercent.x*2)+"px bottom");_blocks[7].setCSS("background-size",(percentSize.x*2)+"px "+_size.y+"px");};defineProperty(that,"backgroundImage",{set:function(value){for(var i=0;i<9;i++)_blocks[i].setCSS("background-image","url("+value+")");that.drawNow();}});{for(var i=0;i<9;i++){_blocks[i]=new ASJS.Sprite();_blocks[i].setCSS("background-repeat","no-repeat");that.addChild(_blocks[i]);};_blocks[0].setCSS("background-position","left top");_blocks[2].setCSS("background-position","right top");_blocks[6].setCSS("background-position","left bottom");_blocks[8].setCSS("background-position","right bottom");};return that;};ASJS.TextArea=function(){var that=new ASJS.AbstractTextElement("<textarea />");{};return that;};ASJS.TextInput=function(){var that=new ASJS.AbstractTextElement("<input />");defineProperty(that,"type",{get:function(){var response=ASJS.TextInput.TYPE_TEXT;switch(that.getAttr("type")){case"password":response=ASJS.TextInput.TYPE_PASSWORD;break;case"email":response=ASJS.TextInput.TYPE_EMAIL;break;default:response=ASJS.TextInput.TYPE_TEXT;break;};return response;},set:function(value){switch(value){case ASJS.TextInput.TYPE_PASSWORD:that.setAttr("type","password");break;case ASJS.TextInput.TYPE_EMAIL:that.setAttr("type","email");break;default:that.setAttr("type","text");break;}}});{that.type=ASJS.TextInput.TYPE_TEXT;};return that;};ASJS.TextInput.TYPE_TEXT="TextInput-typeText";ASJS.TextInput.TYPE_PASSWORD="TextInput-typePassword";ASJS.TextInput.TYPE_EMAIL="TextInput-typeEmail";ASJS.VideoPlayer=function(){var that=new ASJS.DisplayObject("<video />");that.setAttr("controls","true");that.setAttr("preload","true");defineProperty(that,"autoplay",{get:function(){return that.getAttr("autoplay");},set:function(value){that.setAttr("autoplay",value);}});defineProperty(that,"streamUrl",{get:function(){return _streamUrl;},set:function(value){_streamUrl=value;that.setAttr("src",_streamUrl);}});{};return that;};ASJS.AnimationDescriptor=function(name,spriteSheet,size,sequenceList){var that={};var _name=name||"";var _spriteSheet=spriteSheet||"";var _size=size||new ASJS.Point();var _sequenceList=sequenceList||[];defineProperty(that,"name",{get:function(){return _name;},set:function(value){_name=value;}});defineProperty(that,"sequenceList",{get:function(){return _sequenceList;},set:function(value){_sequenceList=value;}});defineProperty(that,"size",{get:function(){return _size;},set:function(value){_size=value;}});defineProperty(that,"spriteSheet",{get:function(){return _spriteSheet;},set:function(value){_spriteSheet=value;}});{};return that;};ASJS.AnimatedSprite=function(){var that=new ASJS.DisplayObject();var _animations={};var _isPlaying=false;var _selectedAnimation="";var _step=0;that.addAnimationDescriptorList=function(animationDescriptorList){var i;for(i=0;i<animationDescriptorList.length;i++)that.addAnimationDescriptor(animationDescriptorList[i]);};that.addAnimationDescriptor=function(animationDescriptor){_animations[animationDescriptor.name]=animationDescriptor;};that.removeAnimationDescriptor=function(name){_animations[name]=null;delete _animations[name];};that.play=function(name){if(!_animations[name])return;_selectedAnimation=name;_step=0;that.setCSS("background-image","url("+_animations[_selectedAnimation].spriteSheet+")");_isPlaying=true;};that.stop=function(){_isPlaying=false;};that.update=function(){if(!_isPlaying)return;var rect=_animations[_selectedAnimation].sequenceList[_step];var size=_animations[_selectedAnimation].size;var percentW=that.width/rect.width;var percentH=that.height/rect.height;that.setCSS("background-position",(-rect.x*percentW)+"px "+(-rect.y*percentH)+"px");that.setCSS("background-size",(size.x*percentW)+"px "+(size.y*percentH)+"px");that.setSize(rect.width*percentW,rect.height*percentH);_step++;if(_step>=_animations[_selectedAnimation].sequenceList.length)_step=0;};{};return that;};ASJS.Cycler=function(){function CyclerInstance(){var that={};var _isPlaying=false;var _fps=24;var _interval=getIntervalByFps();var _callbacks=[];var _timeoutId;defineProperty(that,"isPlaying",{get:function(){return _isPlaying;}});defineProperty(that,"fps",{get:function(){return _fps;},set:function(value){_fps=value;_interval=getIntervalByFps();that.start();}});that.addCallback=function(callback){if(that.callbackExists(callback))return;_callbacks.push(callback);};that.removeCallback=function(callback){if(!that.callbackExists(callback))return;var i;var l=_callbacks.length;var index;for(i=0;i<l;i++){if(_callbacks[i]==callback)index=i;};_callbacks.splice(index,1);};that.callbackExists=function(callback){var i;var l=_callbacks.length;for(i=0;i<l;i++){if(_callbacks[i]==callback)return true;};return false;};that.start=function(){_isPlaying=true;tick();};that.stop=function(){_isPlaying=false;window.clearTimeout(_timeoutId);};function tick(){window.clearTimeout(_timeoutId);var i;var l=_callbacks.length;for(i=0;i<l;i++){if(_callbacks[i])_callbacks[i]();};_timeoutId=window.setTimeout(function(){tick();},_interval);};function getIntervalByFps(){return 1000/_fps;};{};return that;};defineProperty(this,"instance",{get:function(){if(!ASJS.Cycler.$)ASJS.Cycler.$=new CyclerInstance();return ASJS.Cycler.$;}});};